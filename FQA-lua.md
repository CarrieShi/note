Lua script attempted to access a non local key in a cluster node

该错误通常表示Lua脚本尝试访问Redis集群中未存储在本地节点上的键。在Redis集群模式下，键会自动按照一定规则分区并分布在集群的多个节点上。

当Lua脚本在Redis集群中执行时，它只能访问存储在本地节点上的键。如果脚本尝试访问未存储在本地节点上的键，则Redis会抛出“Lua脚本尝试访问集群节点中的非本地键”错误。

要解决此错误，可以修改Lua脚本，使其要么：

仅访问本地键：Lua脚本只能访问存储在本地节点上的键。如果脚本需要访问其他节点的数据，可以使用“redis.call”函数以一种确保其仅针对本地节点执行Redis命令的方式。

使用Redis集群命令：Redis提供了特定命令来处理Redis集群数据。如果Lua脚本需要访问其他节点的数据，则可以使用这些命令访问集群中的其他节点中的数据。

一般来说，在使用Redis集群时，重要的是要意识到数据分布的特性，并相应地设计您的应用程序和脚本。
